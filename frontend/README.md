# OpenWrt 编译器 - 前端界面

这是一个现代化的OpenWrt在线编译系统前端界面，提供直观易用的用户体验。

## 功能特性

### 🎯 核心功能
- **源码管理**: Git仓库克隆、分支选择、Feeds更新
- **配置管理**: 配置模板应用、配置文件上传下载
- **编译控制**: 一键编译、实时进度监控、编译选项配置
- **文件管理**: 固件文件下载、配置文件管理
- **实时日志**: WebSocket实时日志显示、日志搜索和下载

### 🎨 界面特性
- **响应式设计**: 支持桌面、平板、手机等不同设备
- **现代化UI**: 基于现代CSS设计，美观易用
- **实时通信**: WebSocket实时更新编译状态和日志
- **模块化布局**: 清晰的功能分区和标签页设计
- **通知系统**: 智能通知提醒和状态指示

## 使用方法

### 📂 直接使用
1. 双击 `index.html` 文件即可在浏览器中打开
2. 确保后端服务正在运行（默认端口5000）
3. 界面会自动连接到后端服务 (http://127.0.0.1:5000)

### 🌐 Web服务器部署
```bash
# 使用Python简单HTTP服务器
cd frontend
python -m http.server 8080

# 或使用Node.js serve (需要先安装: npm install -g serve)
npx serve . -p 8080

# 或使用nginx等Web服务器
```

## 界面说明

### 左侧控制面板

#### 📥 源码管理
- **Git仓库地址**: 输入LEDE或OpenWrt仓库地址
- **分支选择**: 选择要编译的分支
- **克隆源码**: 一键克隆仓库到服务器
- **更新Feeds**: 更新软件包源
- **安装Feeds**: 安装软件包依赖

#### ⚙️ 配置管理
- **配置模板**: 选择预设的设备配置模板
- **配置名称**: 为新配置指定名称
- **应用模板**: 将模板应用为新配置
- **上传配置**: 上传本地.config文件
- **下载配置**: 下载当前配置文件

#### 🔨 编译控制
- **编译目标**: 选择编译范围（完整/内核/软件包）
- **编译线程**: 设置并行编译线程数
- **详细输出**: 启用详细编译日志
- **清理编译**: 清理之前的编译结果
- **开始编译**: 启动编译过程
- **停止编译**: 中止正在进行的编译

### 右侧内容区域

#### 📋 标签页导航
- **编译日志**: 实时显示编译过程日志
- **固件文件**: 显示编译完成的固件文件
- **配置文件**: 管理保存的配置文件
- **系统信息**: 显示服务器和连接状态

#### 📝 编译日志
- **实时显示**: WebSocket实时推送编译日志
- **日志搜索**: 快速搜索特定日志内容
- **日志下载**: 将日志保存为文本文件
- **自动滚动**: 自动滚动到最新日志

#### 📦 固件文件
- **文件列表**: 显示所有编译完成的固件文件
- **文件信息**: 显示文件大小、修改时间、MD5等
- **一键下载**: 直接下载固件文件
- **文件删除**: 清理不需要的文件

#### 🔧 配置文件
- **配置列表**: 显示所有保存的配置文件
- **配置操作**: 下载、查看、删除配置文件
- **配置详情**: 显示配置文件的详细信息

#### 📊 系统信息
- **服务器状态**: 显示后端服务运行状态
- **连接信息**: WebSocket和API连接状态
- **存储信息**: 磁盘使用情况和可用空间
- **统计信息**: 编译次数和成功率统计

## 技术架构

### 🏗️ 前端技术栈
- **HTML5**: 语义化标签和现代HTML特性
- **CSS3**: 现代CSS特性、CSS变量、Flexbox、Grid
- **JavaScript ES6+**: 模块化、类、异步编程
- **Socket.IO**: WebSocket实时通信
- **Font Awesome**: 图标字体库

### 📱 响应式设计
- **移动优先**: 优先考虑移动设备体验
- **断点设计**: 768px、992px、1200px响应式断点
- **弹性布局**: Flexbox和Grid布局
- **自适应组件**: 组件自动适应不同屏幕尺寸

### 🎨 设计系统
- **CSS变量**: 统一的颜色、间距、字体系统
- **组件化**: 可复用的UI组件
- **主题支持**: 支持亮色/暗色主题切换
- **无障碍**: 支持键盘导航和屏幕阅读器

## 浏览器兼容性

### ✅ 支持的浏览器
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

### 📱 移动端支持
- iOS Safari 13+
- Chrome Mobile 80+
- Samsung Internet 12+

## 配置说明

### 🔧 后端连接配置
在 `assets/js/app.js` 中修改连接配置：

```javascript
this.config = {
    apiBaseUrl: 'http://127.0.0.1:5000/api',  // 后端API地址
    wsUrl: 'http://127.0.0.1:5000',           // WebSocket地址
    autoReconnect: true,                       // 自动重连
    reconnectInterval: 5000,                   // 重连间隔(ms)
    maxReconnectAttempts: 10                   // 最大重连次数
};
```

**注意**: 如果后端运行在不同的地址或端口，请相应修改 `apiBaseUrl` 和 `wsUrl`。

### 🎨 主题定制
在 `assets/css/style.css` 中修改CSS变量：

```css
:root {
    --primary-color: #007bff;      /* 主色调 */
    --secondary-color: #6c757d;    /* 次要色调 */
    --success-color: #28a745;      /* 成功色 */
    --danger-color: #dc3545;       /* 危险色 */
    --warning-color: #ffc107;      /* 警告色 */
    /* 更多变量... */
}
```

## 开发说明

### 📁 文件结构
```
frontend/
├── index.html              # 主页面
├── favicon.ico             # 网站图标
├── README.md               # 说明文档
└── assets/
    ├── css/
    │   └── style.css       # 主样式文件
    ├── js/
    │   ├── app.js          # 主应用程序
    │   └── websocket.js    # WebSocket管理器
    └── images/             # 图片资源目录
```

### 🔄 开发流程
1. 修改HTML结构或CSS样式
2. 在浏览器中刷新页面查看效果
3. 使用浏览器开发者工具调试
4. 测试不同设备和浏览器的兼容性

### 🐛 调试技巧
- 使用浏览器开发者工具的Console查看JavaScript错误
- 使用Network面板监控API请求
- 使用Elements面板调试CSS样式
- 使用Application面板查看WebSocket连接状态

## 常见问题

### ❓ 连接问题
**Q: 页面显示"连接断开"状态？**
A: 检查后端服务是否正在运行，确认API地址配置正确。

**Q: WebSocket连接失败？**
A: 检查防火墙设置，确认WebSocket端口可访问。

### ❓ 功能问题
**Q: 编译按钮无法点击？**
A: 确保已完成源码克隆和配置选择步骤。

**Q: 日志不显示？**
A: 检查WebSocket连接状态，确认后端正在发送日志。

### ❓ 界面问题
**Q: 移动端显示异常？**
A: 清除浏览器缓存，确认使用支持的浏览器版本。

**Q: 样式显示错误？**
A: 检查CSS文件是否正确加载，确认网络连接正常。

## 更新日志

### v1.0.0 (2025-06-25)
- ✨ 初始版本发布
- 🎨 现代化响应式界面设计
- 🔄 WebSocket实时通信
- 📱 移动端适配
- 🎯 完整的编译流程支持

---

**开发团队**: OpenWrt编译器项目组  
**技术支持**: 请在项目仓库提交Issue  
**许可证**: MIT License
